 Quant Trade - ä¸“ä¸šé‡åŒ–äº¤æ˜“ç³»ç»Ÿ

![Python](https://img.shields.io/badge/Python-3.8%2B-blue)
![FastAPI](https://img.shields.io/badge/FastAPI-0.104%2B-green)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-13%2B-blue)
![License](https://img.shields.io/badge/License-MIT-yellow)

ä¸€ä¸ªåŸºäº FastAPI å’Œ AsyncSQLAlchemy æ„å»ºçš„ä¸“ä¸šé‡åŒ–äº¤æ˜“ç³»ç»Ÿï¼Œé‡‡ç”¨é¢†åŸŸé©±åŠ¨è®¾è®¡(DDD)å’Œæ¸…æ´æ¶æ„ï¼Œæ”¯æŒå¤šå¸‚åœºæ•°æ®é‡‡é›†ã€ç­–ç•¥å›æµ‹å’Œè‡ªåŠ¨äº¤æ˜“æ‰§è¡Œã€‚

## ğŸš€ æ ¸å¿ƒç‰¹æ€§

### ğŸ“Š æ•°æ®ç®¡ç†
- **å¤šæ•°æ®æºæ”¯æŒ**ï¼šé›†æˆ AKShareã€YFinance ç­‰æ•°æ®æä¾›å•†
- **å¼‚æ­¥æ•°æ®é‡‡é›†**ï¼šé«˜æ€§èƒ½å¼‚æ­¥æ•°æ®è·å–å’Œå­˜å‚¨
- **å†å²æ•°æ®ç®¡ç†**ï¼šå®Œæ•´çš„è‚¡ç¥¨ã€æœŸè´§å†å²æ•°æ®å­˜å‚¨
- **å®æ—¶è¡Œæƒ…**ï¼šæ”¯æŒå®æ—¶è¡Œæƒ…æ•°æ®è®¢é˜…å’Œæ¨é€

### ğŸ¤– ç­–ç•¥å¼•æ“
- **ç­–ç•¥æ¡†æ¶**ï¼šçµæ´»çš„ç­–ç•¥å¼€å‘å’Œå›æµ‹æ¡†æ¶
- **å¤šç­–ç•¥æ”¯æŒ**ï¼šè¶‹åŠ¿è·Ÿè¸ªã€å‡å€¼å›å½’ã€å› å­æ¨¡å‹ç­‰
- **å›æµ‹ç³»ç»Ÿ**ï¼šå®Œæ•´çš„ç­–ç•¥å›æµ‹å’Œç»©æ•ˆåˆ†æ
- **å®æ—¶ç›‘æ§**ï¼šç­–ç•¥è¿è¡ŒçŠ¶æ€å®æ—¶ç›‘æ§

### ğŸ”„ äº¤æ˜“æ‰§è¡Œ
- **å¤šåˆ¸å•†æ”¯æŒ**ï¼šæ¨¡æ‹Ÿäº¤æ˜“å’Œå®ç›˜äº¤æ˜“æ¥å£
- **é£é™©æ§åˆ¶**ï¼šå¤šå±‚æ¬¡é£é™©ç®¡ç†å’Œèµ„é‡‘ç®¡ç†
- **è®¢å•ç®¡ç†**ï¼šå®Œæ•´çš„è®¢å•ç”Ÿå‘½å‘¨æœŸç®¡ç†
- **æ‰§è¡Œç®—æ³•**ï¼šæ™ºèƒ½è®¢å•æ‰§è¡Œç®—æ³•

### ğŸ—ï¸ ç³»ç»Ÿæ¶æ„
- **é¢†åŸŸé©±åŠ¨è®¾è®¡**ï¼šæ¸…æ™°çš„åˆ†å±‚æ¶æ„å’Œé¢†åŸŸæ¨¡å‹
- **å¼‚æ­¥æ¶æ„**ï¼šåŸºäº AsyncSQLAlchemy çš„é«˜æ€§èƒ½å¼‚æ­¥å¤„ç†
- **å¾®æœåŠ¡å°±ç»ª**ï¼šæ”¯æŒå®¹å™¨åŒ–éƒ¨ç½²å’Œæ°´å¹³æ‰©å±•
- **API ä¼˜å…ˆ**ï¼šå®Œæ•´çš„ RESTful API è®¾è®¡

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯æ¡†æ¶
- **FastAPI** - é«˜æ€§èƒ½å¼‚æ­¥ Web æ¡†æ¶
- **SQLAlchemy 2.0** - å¼‚æ­¥ ORM
- **Pydantic** - æ•°æ®éªŒè¯å’Œè®¾ç½®ç®¡ç†
- **Alembic** - æ•°æ®åº“è¿ç§»

### æ•°æ®åº“
- **PostgreSQL** - ä¸»æ•°æ®åº“
- **Redis** - ç¼“å­˜å’Œæ¶ˆæ¯é˜Ÿåˆ—

### é‡åŒ–åˆ†æ
- **Pandas** - æ•°æ®åˆ†æ
- **NumPy** - æ•°å€¼è®¡ç®—
- **TA-Lib** - æŠ€æœ¯æŒ‡æ ‡è®¡ç®—

### éƒ¨ç½²è¿ç»´
- **Docker** - å®¹å™¨åŒ–éƒ¨ç½²
- **Docker Compose** - æœåŠ¡ç¼–æ’
- **Uvicorn** - ASGI æœåŠ¡å™¨

## ğŸ“ é¡¹ç›®ç»“æ„
quant_trade/
â”œâ”€â”€ app/ # ä¸»åº”ç”¨ç›®å½•
â”‚ â”œâ”€â”€ api/ # API è¡¨ç°å±‚
â”‚ â”‚ â””â”€â”€ routes/ # API è·¯ç”±
â”‚ â”œâ”€â”€ core/ # æ ¸å¿ƒé…ç½®
â”‚ â”œâ”€â”€ domain/ # é¢†åŸŸå±‚
â”‚ â”‚ â”œâ”€â”€ entities/ # é¢†åŸŸå®ä½“
â”‚ â”‚ â””â”€â”€ services/ # é¢†åŸŸæœåŠ¡
â”‚ â”œâ”€â”€ infrastructure/ # åŸºç¡€è®¾æ–½å±‚
â”‚ â”‚ â”œâ”€â”€ database/ # æ•°æ®åº“
â”‚ â”‚ â”œâ”€â”€ external/ # å¤–éƒ¨æœåŠ¡
â”‚ â”‚ â””â”€â”€ message_bus/ # æ¶ˆæ¯æ€»çº¿
â”‚ â”œâ”€â”€ application/ # åº”ç”¨å±‚
â”‚ â”‚ â”œâ”€â”€ use_cases/ # åº”ç”¨ç”¨ä¾‹
â”‚ â”‚ â””â”€â”€ schedulers/ # ä»»åŠ¡è°ƒåº¦
â”‚ â”œâ”€â”€ strategies/ # äº¤æ˜“ç­–ç•¥
â”‚ â””â”€â”€ utils/ # å·¥å…·å‡½æ•°
â”œâ”€â”€ tests/ # æµ‹è¯•ç›®å½•
â”œâ”€â”€ scripts/ # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ docker/ # Docker é…ç½®
â””â”€â”€ docs/ # é¡¹ç›®æ–‡æ¡£

text

## âš¡ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- PostgreSQL 13+
- Redis 6+

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/leebin-coder/quant_trade.git
cd quant_trade
åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# venv\Scripts\activate  # Windows
å®‰è£…ä¾èµ–

bash
pip install -r requirements/base.txt
ç¯å¢ƒé…ç½®

bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ç­‰ä¿¡æ¯
å¯åŠ¨æœåŠ¡

bash
python -m app.main
æœåŠ¡å¯åŠ¨åè®¿é—®ï¼š

ä¸»é¡µ: http://localhost:8000

APIæ–‡æ¡£: http://localhost:8000/docs

å¥åº·æ£€æŸ¥: http://localhost:8000/api/health/health

Docker éƒ¨ç½²
bash
# ä½¿ç”¨ Docker Compose å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose -f docker/docker-compose.yml up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose -f docker/docker-compose.yml ps
ğŸ“š ä½¿ç”¨æŒ‡å—
æ•°æ®ç®¡ç†
bash
# è·å–è‚¡ç¥¨åˆ—è¡¨
curl http://localhost:8000/api/data/stocks

# æ›´æ–°è‚¡ç¥¨æ•°æ®
curl -X POST http://localhost:8000/api/data/update/stocks
ç­–ç•¥å›æµ‹
bash
# å›æµ‹è¶‹åŠ¿è·Ÿè¸ªç­–ç•¥
curl -X POST http://localhost:8000/api/strategies/backtest/trend_following \
  -H "Content-Type: application/json" \
  -d '{
    "symbols": ["000001", "000002"],
    "start_date": "2023-01-01",
    "end_date": "2023-12-31"
  }'
äº¤æ˜“æ‰§è¡Œ
bash
# è·å–äº¤æ˜“çŠ¶æ€
curl http://localhost:8000/api/trading/status

# æäº¤è®¢å•
curl -X POST http://localhost:8000/api/trading/orders \
  -H "Content-Type: application/json" \
  -d '{
    "symbol": "000001",
    "side": "BUY",
    "quantity": 100,
    "order_type": "MARKET"
  }'
ğŸ”§ å¼€å‘æŒ‡å—
æ·»åŠ æ–°çš„æ•°æ®æº
åœ¨ app/infrastructure/external/data_providers/ åˆ›å»ºæ–°çš„æ•°æ®æä¾›è€…

å®ç° BaseDataProvider æ¥å£

åœ¨é¢†åŸŸæœåŠ¡ä¸­é›†æˆæ–°çš„æ•°æ®æº

å¼€å‘äº¤æ˜“ç­–ç•¥
åœ¨ app/strategies/ åˆ›å»ºç­–ç•¥ç±»

ç»§æ‰¿ BaseStrategy åŸºç±»

å®ç° calculate_signals å’Œ backtest æ–¹æ³•

æ•°æ®åº“è¿ç§»
bash
# ç”Ÿæˆè¿ç§»è„šæœ¬
alembic revision --autogenerate -m "æè¿°"

# æ‰§è¡Œè¿ç§»
alembic upgrade head
ğŸ¤ è´¡çŒ®æŒ‡å—
æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼è¯·é˜…è¯»æˆ‘ä»¬çš„è´¡çŒ®æŒ‡å—ï¼š

Fork æœ¬ä»“åº“

åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (git checkout -b feature/AmazingFeature)

æäº¤æ›´æ”¹ (git commit -m 'Add some AmazingFeature')

æ¨é€åˆ°åˆ†æ”¯ (git push origin feature/AmazingFeature)

å¼€å¯ä¸€ä¸ª Pull Request

ğŸ“„ è®¸å¯è¯
æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ LICENSE æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

ğŸ›£ï¸ å¼€å‘è·¯çº¿å›¾
å®Œå–„æ•°æ®é‡‡é›†æ¨¡å—

å®ç°åŸºç¡€ç­–ç•¥æ¡†æ¶

å¼€å‘å›æµ‹å¼•æ“

é›†æˆå®ç›˜äº¤æ˜“æ¥å£

æ·»åŠ é£é™©ç®¡ç†æ¨¡å—

å®ç°ç”¨æˆ·ç®¡ç†å’Œæƒé™æ§åˆ¶

å¼€å‘ Web ç®¡ç†ç•Œé¢

æ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²

ğŸ“ è”ç³»æˆ‘ä»¬
é¡¹ç›®ä¸»é¡µ: https://github.com/leebin-coder/quant_trade

é—®é¢˜åé¦ˆ: GitHub Issues

ğŸ™ è‡´è°¢
æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„è´¡çŒ®ï¼š

FastAPI

SQLAlchemy

AKShare

Pandas

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ˜Ÿï¼

æ³¨æ„ï¼šæœ¬é¡¹ç›®ä»åœ¨ç§¯æå¼€å‘ä¸­ï¼ŒAPI å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å‰è¿›è¡Œå……åˆ†æµ‹è¯•ã€‚
