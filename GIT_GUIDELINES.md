# Git æäº¤æŒ‡å—

## åº”è¯¥æäº¤åˆ° GitHub çš„æ–‡ä»¶

### âœ… æºä»£ç 
```
app/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ main.py
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ config.py
â””â”€â”€ utils/
    â”œâ”€â”€ __init__.py
    â””â”€â”€ logger.py
```

### âœ… é…ç½®æ–‡ä»¶
```
pyproject.toml              # é¡¹ç›®é…ç½®å’Œä¾èµ–
.env.example                # ç¯å¢ƒå˜é‡æ¨¡æ¿ï¼ˆä¸å«æ•æ„Ÿä¿¡æ¯ï¼‰
.gitignore                  # Git å¿½ç•¥è§„åˆ™
.dockerignore               # Docker å¿½ç•¥è§„åˆ™
```

### âœ… éƒ¨ç½²æ–‡ä»¶
```
deployment/
â”œâ”€â”€ README.md
â”œâ”€â”€ quant-trade.service      # systemd é…ç½®
â”œâ”€â”€ supervisor.conf          # Supervisor é…ç½®
â””â”€â”€ com.quanttrade.service.plist  # launchd é…ç½®

Dockerfile                   # Docker é•œåƒé…ç½®
docker-compose.yml           # Docker Compose é…ç½®
```

### âœ… è„šæœ¬æ–‡ä»¶
```
scripts/
â”œâ”€â”€ service_manager.py      # æœåŠ¡ç®¡ç†è„šæœ¬
â””â”€â”€ README.md
```

### âœ… æ–‡æ¡£æ–‡ä»¶
```
README.md                   # é¡¹ç›®è¯´æ˜
QUICKSTART.md              # å¿«é€Ÿå¯åŠ¨æŒ‡å—
PROJECT_STRUCTURE.md       # é¡¹ç›®ç»“æ„è¯´æ˜
GIT_GUIDELINES.md          # æœ¬æ–‡ä»¶
LICENSE                    # è®¸å¯è¯ï¼ˆå¦‚æœæœ‰ï¼‰
```

### âœ… æµ‹è¯•æ–‡ä»¶
```
tests/                     # æµ‹è¯•ä»£ç 
```

---

## âŒ ä¸åº”è¯¥æäº¤åˆ° GitHub çš„æ–‡ä»¶

### âŒ Python ç”Ÿæˆæ–‡ä»¶
```
__pycache__/              # Python å­—èŠ‚ç ç¼“å­˜
*.pyc, *.pyo, *.pyd       # ç¼–è¯‘çš„ Python æ–‡ä»¶
*.egg-info/               # å®‰è£…åŒ…ä¿¡æ¯
dist/, build/             # æ„å»ºè¾“å‡º
```

### âŒ è™šæ‹Ÿç¯å¢ƒ
```
venv/
env/
.venv/
ENV/
```

### âŒ IDE é…ç½®
```
.vscode/                  # VS Code é…ç½®
.idea/                    # PyCharm/IntelliJ é…ç½®
*.swp, *.swo              # Vim ä¸´æ—¶æ–‡ä»¶
.DS_Store                 # macOS ç³»ç»Ÿæ–‡ä»¶
```

### âŒ æ•æ„Ÿä¿¡æ¯
```
.env                      # ç¯å¢ƒå˜é‡ï¼ˆåŒ…å«æ•æ„Ÿä¿¡æ¯ï¼‰
*.key                     # å¯†é’¥æ–‡ä»¶
*.pem                     # è¯ä¹¦æ–‡ä»¶
secrets/                  # å¯†é’¥ç›®å½•
credentials.json          # å‡­è¯æ–‡ä»¶
```

### âŒ è¿è¡Œæ—¶æ–‡ä»¶
```
logs/                     # æ—¥å¿—æ–‡ä»¶
*.log
*.pid                     # è¿›ç¨‹ ID æ–‡ä»¶
quant_trade.pid           # æœåŠ¡è¿›ç¨‹æ–‡ä»¶
```

### âŒ æ•°æ®æ–‡ä»¶
```
storage/                  # å­˜å‚¨ç›®å½•
data/                     # æ•°æ®ç›®å½•
*.db, *.sqlite            # æ•°æ®åº“æ–‡ä»¶
*.csv, *.xlsx             # æ•°æ®æ–‡ä»¶
```

### âŒ æµ‹è¯•å’Œè¦†ç›–ç‡
```
.pytest_cache/            # Pytest ç¼“å­˜
.coverage                 # è¦†ç›–ç‡æ•°æ®
htmlcov/                  # è¦†ç›–ç‡æŠ¥å‘Š
.tox/                     # Tox æµ‹è¯•ç¯å¢ƒ
```

### âŒ ä¸´æ—¶æ–‡ä»¶
```
*.tmp, *.temp             # ä¸´æ—¶æ–‡ä»¶
*.bak                     # å¤‡ä»½æ–‡ä»¶
*~                        # ç¼–è¾‘å™¨ä¸´æ—¶æ–‡ä»¶
```

---

## ğŸ“ Git å·¥ä½œæµç¨‹

### 1. æ£€æŸ¥å½“å‰çŠ¶æ€
```bash
git status
```

### 2. æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº
```bash
# æ·»åŠ æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶
git add .

# æˆ–è€…é€‰æ‹©æ€§æ·»åŠ 
git add app/
git add README.md
git add pyproject.toml
```

### 3. æŸ¥çœ‹å°†è¦æäº¤çš„å†…å®¹
```bash
# æŸ¥çœ‹æš‚å­˜çš„ä¿®æ”¹
git diff --staged

# æŸ¥çœ‹ç®€çŸ­çŠ¶æ€
git status --short
```

### 4. æäº¤æ›´æ”¹
```bash
git commit -m "æè¿°ä½ çš„æ›´æ”¹"

# ç¤ºä¾‹
git commit -m "ä¼˜åŒ–é¡¹ç›®ç»“æ„ï¼Œç§»é™¤ä¸å¿…è¦çš„ç©ºæ–‡ä»¶"
git commit -m "æ·»åŠ æœåŠ¡ç®¡ç†è„šæœ¬"
git commit -m "æ›´æ–°æ–‡æ¡£"
```

### 5. æ¨é€åˆ°è¿œç¨‹ä»“åº“
```bash
git push origin main
```

---

## ğŸ› ï¸ æ¸…ç†å·²æäº¤çš„ä¸è¯¥æäº¤çš„æ–‡ä»¶

å¦‚æœå·²ç»è¯¯æäº¤äº†ä¸è¯¥æäº¤çš„æ–‡ä»¶ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¸…ç†ï¼š

### æ¸…ç†å•ä¸ªæ–‡ä»¶
```bash
git rm --cached .env
git rm --cached .DS_Store
```

### æ¸…ç†ç›®å½•
```bash
git rm -r --cached __pycache__
git rm -r --cached .idea
git rm -r --cached quant_trade.egg-info
git rm -r --cached logs
```

### ç„¶åæäº¤åˆ é™¤æ“ä½œ
```bash
git commit -m "ç§»é™¤ä¸è¯¥æäº¤çš„æ–‡ä»¶"
git push
```

---

## ğŸ” æ£€æŸ¥ .gitignore æ˜¯å¦ç”Ÿæ•ˆ

### æµ‹è¯• .gitignore
```bash
# æŸ¥çœ‹å“ªäº›æ–‡ä»¶è¢«å¿½ç•¥
git status --ignored

# æ£€æŸ¥ç‰¹å®šæ–‡ä»¶æ˜¯å¦è¢«å¿½ç•¥
git check-ignore -v .env
git check-ignore -v __pycache__
```

### å¼ºåˆ¶åˆ·æ–° .gitignore
```bash
# ç§»é™¤æ‰€æœ‰æ–‡ä»¶çš„ç¼“å­˜
git rm -r --cached .

# é‡æ–°æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# æäº¤
git commit -m "åˆ·æ–° .gitignore è§„åˆ™"
```

---

## ğŸ“‹ æäº¤å‰æ£€æŸ¥æ¸…å•

åœ¨æ¯æ¬¡æäº¤å‰ï¼Œè¯·ç¡®è®¤ï¼š

- [ ] æ²¡æœ‰æäº¤ `.env` æ–‡ä»¶
- [ ] æ²¡æœ‰æäº¤ `__pycache__` ç›®å½•
- [ ] æ²¡æœ‰æäº¤ `.DS_Store` ç­‰ç³»ç»Ÿæ–‡ä»¶
- [ ] æ²¡æœ‰æäº¤ IDE é…ç½®ï¼ˆ`.idea`, `.vscode`ï¼‰
- [ ] æ²¡æœ‰æäº¤æ—¥å¿—æ–‡ä»¶
- [ ] æ²¡æœ‰æäº¤æ•°æ®åº“æ–‡ä»¶
- [ ] æ²¡æœ‰æäº¤ä¸´æ—¶æ–‡ä»¶
- [ ] `.env.example` ä¸åŒ…å«çœŸå®å¯†ç 
- [ ] æäº¤ä¿¡æ¯æ¸…æ™°æ˜ç¡®

---

## ğŸ’¡ æœ€ä½³å®è·µ

1. **é¢‘ç¹æäº¤**ï¼šå°æ­¥å¿«è·‘ï¼Œæ¯ä¸ªåŠŸèƒ½ç‚¹éƒ½æäº¤
2. **æ¸…æ™°çš„æäº¤ä¿¡æ¯**ï¼šä½¿ç”¨åŠ¨è¯å¼€å¤´ï¼Œç®€æ˜æ‰¼è¦
3. **æäº¤å‰å®¡æŸ¥**ï¼šä½¿ç”¨ `git diff` æ£€æŸ¥ä¿®æ”¹
4. **åˆ†æ”¯å¼€å‘**ï¼šé‡è¦åŠŸèƒ½åœ¨ç‹¬ç«‹åˆ†æ”¯å¼€å‘
5. **å®šæœŸæ¨é€**ï¼šé¿å…æœ¬åœ°ç§¯ç´¯å¤ªå¤šæœªæ¨é€çš„æäº¤

---

## ğŸš¨ ç´§æ€¥æƒ…å†µå¤„ç†

### æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼ˆæœªæ¨é€ï¼‰
```bash
git reset --soft HEAD~1
```

### ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤ä¿¡æ¯ï¼ˆæœªæ¨é€ï¼‰
```bash
git commit --amend -m "æ–°çš„æäº¤ä¿¡æ¯"
```

### æ’¤é”€å·²æ¨é€çš„æäº¤
```bash
# æ…ç”¨ï¼ä¼šæ”¹å†™å†å²
git revert HEAD
git push
```

### è¯¯æäº¤äº†æ•æ„Ÿä¿¡æ¯
1. ç«‹å³ä»ä»“åº“ä¸­åˆ é™¤
2. é‡ç½®æ‰€æœ‰å—å½±å“çš„å¯†ç /å¯†é’¥
3. è€ƒè™‘ä½¿ç”¨ `git filter-branch` æˆ– BFG æ¸…ç†å†å²

---

## ğŸ“š ç›¸å…³èµ„æº

- [Git å®˜æ–¹æ–‡æ¡£](https://git-scm.com/doc)
- [GitHub .gitignore æ¨¡æ¿](https://github.com/github/gitignore)
- [è¯­ä¹‰åŒ–æäº¤ä¿¡æ¯](https://www.conventionalcommits.org/)
